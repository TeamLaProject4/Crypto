(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{130:function(e,t,n){},132:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(38),o=n.n(s),i=(n(130),n(131),n(132),n(9)),c=n(5),l=n.n(c),u=n(10),d=n(19),b=n(11),p=n(62),m=n(55),h=n.n(m),j=n(56),f=n.n(j),g=n(1);function v(e){var t=e.title,n=e.values,a=(e.validationSchema,e.validate),s=e.submit,o=e.submitText,i=(e.styleModifier,e.toggleModal,e.bottomLink),c=e.serverErrorMsg,d=Object(r.useState)(!1),m=Object(b.a)(d,2),j=(m[0],m[1]),v=Object(r.useState)(n),x=Object(b.a)(v,2),O=(x[0],x[1]),w={};Object(r.useEffect)((function(){O(n),n.forEach((function(e){w[e.name]=e.value}))}),[n]);var y=Object(p.a)({initialValues:w,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0,validate:a,onSubmit:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,s(t);case 3:r=e.sent,j(!1),r&&Object.entries(r).forEach((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];y.errors[n]=String(r)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"flex content-center items-center justify-center",children:Object(g.jsxs)("div",{className:"w-full lg:w-4/12 px-4",children:[Object(g.jsxs)("div",{className:"relative flex flex-col w-full mb-6 shadow-lg rounded-lg bg-white ",children:[Object(g.jsx)("div",{className:"mb-0 px-6 py-6",children:Object(g.jsxs)("div",{className:"text-center mb-3",children:[Object(g.jsx)("h6",{className:"text-blueGray-500 text-xl font-bold",children:t}),Object(g.jsx)("hr",{className:"mt-6 border-b-1 border-blueGray-200"})]})}),Object(g.jsx)("div",{className:"flex-auto px-4 lg:px-10 py-10 pt-0",children:Object(g.jsxs)("form",{onSubmit:y.handleSubmit,children:[n&&n.map((function(e){return Object(g.jsxs)("div",{className:"relative w-full mb-2",children:[Object(g.jsx)("label",{className:"block uppercase text-blueGray-500 text-sm font-bold mb-2 ml-1",children:e.name}),Object(g.jsx)("div",{className:"-mb-2",children:Object(g.jsx)(h.a,{id:e.name,name:e.name,type:e.type,onChange:y.handleChange,value:y.values[e.name],placeholder:e.placeholder})}),y.errors[e.name]?Object(g.jsx)("div",{className:"text-red-500 text-xs",children:y.errors[e.name]}):Object(g.jsx)("div",{className:"pb-2"})]})})),c?Object(g.jsx)("div",{className:"text-red-500 text-xs",children:c}):Object(g.jsx)("div",{className:"pb-2"}),Object(g.jsx)("div",{className:"text-center mt-5",children:Object(g.jsx)(f.a,{color:"pink",fullWidth:!0,type:"submit",className:"",children:o})})]})})]}),i&&Object(g.jsx)("div",{className:"flex flex-wrap mt-6 relative",children:Object(g.jsx)("div",{className:"w-1/2",children:Object(g.jsx)("div",{className:"text-blueGray-500 ml-2",children:Object(g.jsx)("a",{href:i.link,children:i.text})})})})]})})})}var x=n(64),O=n(6),w=n(114),y=n.n(w).a.create({baseURL:"http://localhost:8000",withCredentials:!0,headers:{"Content-Type":"application/json"}});var P=function(e){Object(d.a)(e);var t=x.a().shape({Password:x.b().min(8,"Too Short!").max(50,"Too Long!").required("Required"),"Reset Password":x.b().min(8,"Too Short!").max(50,"Too Long!").required("Required")}),n=Object(O.m)().token,r={title:"Reset password",values:[{name:"Email",value:"",type:"",placeholder:"password"},{name:"Password",value:"",type:"password",placeholder:"password"},{name:"Confirm Password",value:"",type:"password",placeholder:"password"}],validate:function(e){var t={Password:null,"Confirm Password":null,Email:null};return e.Email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.Email)||(t.Email="Invalid email"):t.Email="Required",e.Password?e.Password.length<8&&(t.Password="Password is too short. Min lenght is 8"):t.Password="Required",e["Confirm Password"]?e.Password.length<8?t["Confirm Password"]="Password is too short. Min lenght is 8":e["Confirm Password"]!==e.Password&&(t["Confirm Password"]="Passwords do not match"):t["Confirm Password"]="Required",t.Password||t["Confirm Password"]||t.Email?t:null},validationSchema:t,submit:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/api/reset-password",{email:t.Email,password:t.Password,password_confirmation:t["Confirm Password"],token:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),submitText:"Reset password"};return Object(g.jsxs)("div",{className:"pt-20",children:[Object(g.jsx)(v,Object(i.a)({},r)),";"]})},k=n(31),N=n(267);function C(e){Object(d.a)(e);var t=Object(N.a)(),n=t.t,r=t.i18n,a=function(e){r.changeLanguage(e)};return Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{className:"mr-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",type:"button",onClick:function(){y.get("api/user").then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},children:"Secret api call"}),Object(g.jsx)("button",{className:"mr-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",type:"button",onClick:function(){return a("nl")},children:"nl"}),Object(g.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",type:"button",onClick:function(){return a("en")},children:"en"}),Object(g.jsx)("div",{className:" text-center",children:n("test")})]})}var S=n(26);function E(e){Object(d.a)(e);var t=Object(O.k)(),n=Object(r.useState)(null),a=Object(b.a)(n,2),s=a[0],o=a[1],c={title:"Sign in",values:[{name:"email",value:"",type:"",placeholder:"email"},{name:"password",value:"",type:"password",placeholder:"password"}],validate:function(e){var t={email:"",password:""};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Ongeldige email"):t.email="Verplicht",e.password?e.password.length<8&&(t.password="Wachtwoord moet tenminste 8 karakters lang zijn"):t.password="Verplicht",t.email||t.password?t:null},submit:function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/sanctum/csrf-cookie");case 2:return e.prev=2,e.next=5,y.post("/api/login",{email:n.email,password:n.password});case 5:return e.next=7,Object(S.b)("/api/user");case 7:t.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2);try{o(e.t0.response.data.errors.email[0])}catch(r){o("Onjuiste inloggegevens")}case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),submitText:"Sign in",bottomLink:{link:"/forgot-password",text:"Forgot password?"},serverErrorMsg:s};return Object(g.jsxs)("div",{className:"pt-20",children:[Object(g.jsx)(v,Object(i.a)({},c)),";"]})}var R=n(24);function T(e){Object(d.a)(e);var t={title:"Forgot password",values:[{name:"email",value:"",type:"",placeholder:"email"}],validate:function(e){var t={email:null};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email"):t.email="Required",t.email?t:null},submit:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/sanctum/csrf-cookie");case 2:R.b.info("\ud83d\udce7 Sending email...",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),y.post("/api/forgot-password",{email:t.email}).then((function(e){R.b.success("Email sent!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){R.b.error("Something went wrong",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),submitText:"Reset password",bottomLink:{link:"/login",text:"Sign in"}};return Object(g.jsx)("div",{className:"pt-20",children:Object(g.jsx)(v,Object(i.a)({},t))})}function D(e){return Object(d.a)(e),Object(g.jsx)("div",{children:"Protected page"})}var L=n(124),A=n(8),q=(A.e,n(60),function(e){return y.get(e).then((function(e){return e.data}))});function B(){var e=Object(S.a)("/api/user",q,{errorRetryCount:2,revalidateOnFocus:!1}),t=e.data,n=e.mutate,r=e.error,a=!1;return r&&(a=!0),{loading:!t&&!r,loggedOut:a,user:t,mutate:n}}var G=["children"];function M(e){var t=e.children,n=Object(L.a)(e,G),r=B().loggedOut;return Object(g.jsx)(O.d,Object(i.a)(Object(i.a)({},n),{},{render:function(e){var n=e.location;return r?Object(g.jsx)(O.c,{to:{pathname:"/login",state:{from:n}}}):Object(g.jsx)("div",{className:"p-20",children:t})}}))}var W=n(118),U=n.n(W),Z=[{href:"/protected",children:"Protected route"},{dropdown:!0,text:"Demo Pages",items:[{disabled:!0,children:"Group 1"},{href:"#pablo",children:"Demo Page 1"},{href:"#pablo",children:"Demo Page 2"},{disabled:!0,children:"Group 2"},{href:"#pablo",children:"Demo Page 3"},{href:"#pablo",children:"Demo Page 4"},{disabled:!0,children:"Group 3"},{href:"#pablo",children:"Demo Page 5"},{href:"#pablo",children:"Demo Page 6"},{disabled:!0,children:"Group 4"},{href:"#pablo",children:"Demo Page 7"},{href:"#pablo",children:"Demo Page 8"}]}],H={color:"pink",type:"fixed",logoText:"Iris DWH",logoLink:{to:"/"},leftLinks:[{href:"#pablo",children:"Elements"},{dropdown:!0,text:"Demo Pages",items:[{disabled:!0,children:"Group 1"},{href:"#pablo",children:"Demo Page 1"},{href:"#pablo",children:"Demo Page 2"},{disabled:!0,children:"Group 2"},{href:"#pablo",children:"Demo Page 3"},{href:"#pablo",children:"Demo Page 4"},{disabled:!0,children:"Group 3"},{href:"#pablo",children:"Demo Page 5"},{href:"#pablo",children:"Demo Page 6"},{disabled:!0,children:"Group 4"},{href:"#pablo",children:"Demo Page 7"},{href:"#pablo",children:"Demo Page 8"}]}],rightLinks:[{href:"/login",children:"Login"}]};function I(){var e=Object(r.useState)(H),t=Object(b.a)(e,2),n=t[0],a=t[1],s=B(),o=s.user,c=s.loggedOut,d=Object(O.k)();function p(){return(p=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/api/logout");case 2:t=e.sent,localStorage.setItem("logout response",JSON.stringify(t)),document.cookie="iris_session=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="XSRF_TOKEN=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",Object(S.b)("/api/user"),d.push("/login");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){a(c?H:Object(i.a)(Object(i.a)({},H),{},{rightLinks:[{dropdown:!0,text:o?o.name:"Settings",items:[{disabled:!0,children:"Personal"},{href:"/user/settings",children:"Settings"},{href:"#pablo",children:"Demo Page 2"},{disabled:!0,children:"Organisation"},{href:"#pablo",children:"Demo Page 3"},{href:"#pablo",children:"Demo Page 4"}]},{children:"Logout",onClick:function(){return function(){return p.apply(this,arguments)}()}}],leftLinks:Z}))}),[c,o]),Object(g.jsx)(U.a,Object(i.a)({},n))}var _=n(35);function F(e){var t=e.title,n=e.values,a=(e.validationSchema,e.validate),s=e.submit,o=e.submitText,i=(e.styleModifier,e.toggleModal,e.bottomLink,e.serverErrorMsg),c={};Object(r.useEffect)((function(){n.forEach((function(e){c[e.name]=e.value}))}),[n]);var d=Object(p.a)({initialValues:c,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0,validate:a,onSubmit:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:(r=e.sent)&&Object.entries(r).forEach((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];d.errors[n]=String(r)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"flex-auto px-4 lg:px-10 py-5 pt-0",children:Object(g.jsxs)("form",{onSubmit:d.handleSubmit,children:[Object(g.jsx)("h6",{className:"mt-6 mb-2 font-bold ",children:t}),Object(g.jsx)("hr",{className:"mb-6 border-b-1 border-blueGray-200"}),n&&n.map((function(e){return Object(g.jsxs)("div",{className:"relative w-full mb-2",children:[Object(g.jsx)("label",{className:"block uppercase text-blueGray-500 text-sm font-bold mb-2 ml-1",children:e.name}),Object(g.jsx)("div",{className:"-mb-2",children:Object(g.jsx)(h.a,{id:e.name,name:e.name,type:e.type,onChange:d.handleChange,value:d.values[e.name],placeholder:e.placeholder})}),d.errors[e.name]?Object(g.jsx)("div",{className:"text-red-500 text-xs",children:d.errors[e.name]}):Object(g.jsx)("div",{className:"pb-2"})]})})),i?Object(g.jsx)("div",{className:"text-red-500 text-xs",children:i}):Object(g.jsx)("div",{className:"pb-2"}),Object(g.jsx)("div",{className:"text-right -mt-4",children:Object(g.jsx)(f.a,{color:"pink",size:"sm",type:"submit",children:o})})]})})})}function J(e){var t=e.forms,n=e.title;return Object(g.jsxs)("div",{className:"relative flex flex-col w-full mb-6 shadow-lg rounded-lg bg-white",children:[Object(g.jsx)("div",{className:"mb-0 p-6 pb-0",children:Object(g.jsx)("div",{className:"text-center flex justify-between items-center",children:Object(g.jsx)("h6",{className:"text-xl mb-0 font-bold",children:n})})}),Object(g.jsx)("div",{className:"flex-auto px-6 pb-6 pt-0"}),t.map((function(e){return Object(g.jsx)(F,Object(i.a)({},e))}))]})}var V=function(e){Object(d.a)(e);var t="current password",n="new password",r=(B().user,{title:"User settings",forms:[{title:"Update profile",values:[{name:"name",value:"",type:"text"}],validate:function(e){var t={name:null};return e.name?e.name.length<1?t.name="Name is too small":e.name.length>255&&(t.name="Name is too large"):t.name="Required",t.name?t:null},submit:function(e){y.put("/api/user/profile-information",{name:e.name}).then((function(){R.b.success("Successfully updated profile information",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(){R.b.error("Oops something went wrong",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})),Object(S.b)("/api/user")},submitText:"Update"},{title:"Change password",values:[{name:"current password",value:"",type:"password"},{name:"new password",value:"",type:"password"}],validate:function(e){var r,a=(r={},Object(_.a)(r,t,null),Object(_.a)(r,n,null),r);return e[t]?e[t].length<8&&(a[t]="Minimum password lenght is 8"):a[t]="Required",e[n]?e[n].length<8&&(a[n]="Minimum password lenght is 8"):a[n]="Required",a[t]||a[n]?a:null},submit:function(e){y.put("/api/user/password",{current_password:t,password:n}).then((function(){R.b.success("Successfully updated password",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(){R.b.error("Oops something went wrong",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},submitText:"Change"}]});return Object(g.jsx)("div",{className:"w-1/2",children:Object(g.jsx)("div",{className:"pt-20",children:Object(g.jsx)(J,Object(i.a)({},r))})})};var z=function(){return Object(g.jsx)(k.BrowserRouter,{children:Object(g.jsxs)("main",{className:"min-h-screen bg-gray-100",children:[Object(g.jsx)(I,{}),Object(g.jsx)(R.a,{}),Object(g.jsxs)(O.g,{children:[Object(g.jsx)(O.d,{exact:!0,path:"/login",children:Object(g.jsx)(E,{})}),Object(g.jsx)(O.d,{exact:!0,path:"/forgot-password",children:Object(g.jsx)(T,{})}),Object(g.jsx)(O.d,{exact:!0,path:"/reset-password/:token",children:Object(g.jsx)(P,{})}),Object(g.jsx)(M,{exact:!0,path:"/",children:Object(g.jsx)(C,{})}),Object(g.jsx)(M,{exact:!0,path:"/protected",children:Object(g.jsx)(D,{})}),Object(g.jsx)(M,{exact:!0,path:"/user/settings",children:Object(g.jsx)(V,{})})]})]})})},$=n(2);function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var K=Object($.c)("counter/fetchCount",function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),X=Object($.d)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(K.pending,(function(e){e.status="loading"})).addCase(K.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),Y=X.actions,ee=(Y.increment,Y.decrement,Y.incrementByAmount,X.reducer),te=Object($.d)({name:"user",initialState:{loggedIn:!1},reducers:{login:function(e){e.loggedIn=!0},logout:function(e){e.loggedIn=!1}}}),ne=te.actions,re=(ne.login,ne.logout,te.reducer),ae=n(119),se=n(13),oe=Object(ae.a)({reducerPath:"auth",baseQuery:Object(se.d)({baseUrl:"http://localhost:8000",credentials:"include"}),endpoints:function(e){return{csrf:e.query({query:function(){return"/sanctum/csrf-cookie"}}),login:e.mutation({query:function(e){return{url:"/api/login",method:"POST",body:{email:e.email,password:e.password}}}}),logout:e.mutation({query:function(){return{url:"/api/logout",method:"POST"}}})}}}),ie=(oe.useCsrfQuery,oe.useLoginMutation,oe.useLogoutMutation,Object($.a)({reducer:Object(_.a)({counter:ee,user:re},oe.reducerPath,oe.reducer),middleware:function(e){return e().concat(oe.middleware)}})),ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(261),n(262);var ue=n(77),de=n(121),be=n(123),pe=n(44);ue.a.use(de.a).use(be.a).use(pe.e).init({fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1}});ue.a;o.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(A.a,{store:ie,children:Object(g.jsx)(r.Suspense,{fallback:Object(g.jsx)("div",{children:"Loading..."}),children:Object(g.jsx)(z,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ce?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):le(t,e)}))}}()}},[[264,1,2]]]);
//# sourceMappingURL=main.93194455.chunk.js.map